{"version":3,"sources":["js-es6.js"],"names":[],"mappings":"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","file":"js.js","sourcesContent":["$(() => {\n  abc.initialize()\n  // ebot.updateDocumentation(abc)\n})\n\n\n\n/**\n * initialize()\n * assignInitialHandlers()\n * handlerDrag()\n * handlerAddDiv()\n * createNewWireframeDiv()\n *\n * dragDelay\n * dragCounter\n * socket\n * currentDynamicDivId\n * draggableOptions\n * resizableOptions\n */\nlet abc = {\n  \n  initialize: () => {\n    abc.socket = io()\n    abc.assignInitialHandlers()\n\n    \n\n    try {\n      let user = JSON.parse($(\"#data-for-you\").html())\n      console.log(user)\n      console.log(`hello ${user.local.username}`)\n      let DMs = [\"a\"]\n      let players = [\"b\", \"c\"]\n\n      if(DMs.indexOf(user.local.username) > -1) {\n        abc.userIsDM = true\n      }\n\n      if(players.indexOf(user.local.username) > -1) {\n        abc.userIsPlayer = true\n      }\n\n      if(!abc.userIsDM && !abc.userIsPlayer) {\n        alert(\"why are you here? 0.o\")\n      }\n\n      $.when.apply($, abc.retrieveInitialModels()).done(() => {\n        abc.fillRightDrawer()\n      })\n    } catch(e) {\n      console.log(`error parsing authentication data: ${e}`)\n    }\n\n    \n\t  \n  },\n\n  assignInitialHandlers: () => {\n    abc.handlerDrag()\n    abc.handlerAddDiv()\n    abc.handlersSocketEventReceived()\n    abc.makeDrawers()\n    \n\n  },\n\n  handlersSocketEventReceived: () => {\n\n    abc.socket.on('element dragged', emitObj => {\n      $('#' + emitObj.id).css(\"top\", emitObj.y)\n      $('#' + emitObj.id).css(\"left\", emitObj.x)\n    })\n\n    abc.socket.on('div added', () => {\n      abc.createNewWireframeDiv()\n    })\n\n    abc.socket.on('element resized', emitObj => {\n      $(`#${emitObj.id}`).css(\"width\", emitObj.width).css(\"height\", emitObj.height)\n    })\n\n    abc.socket.on('user connected', () => {\n      abc.playSound(\"me-user-connected\")\n    })\n\n    abc.socket.on('user disconnected', () => {\n      abc.playSound(\"me-user-disconnected\")\n    })\n  },\n\n  retrieveInitialModels: () => {\n    let deferreds = []\n\n    deferreds.push(ebot.retrieveEntity(abc, \"items\"))\n\n    return deferreds\n  },\n\n  fillRightDrawer: () => {\n    if(abc.userIsDM) {\n      $(`#right-drawer-contents`).html(abc.getRightDrawerHtml())\n      abc.handlerRightDrawerContents()\n    } else {\n      $(`#right-drawer-contents`).html(\"Players don't get to add items lolololol\")\n    }\n    \n    \n  },\n\n  getRightDrawerHtml: () => {\n    let htmlString = ``\n\n    abc.items.forEach(item => {\n      htmlString += `<button class='add-item-button' item-id='${item._id}' item-image-filename='${item.imageFilename}'><img src='items/${item.imageFilename}'></button>`\n    })\n\n    return htmlString\n  },\n\n  handlerRightDrawerContents: () => {\n    $(\".add-item-button\").click(e => {\n      let button = $(e.currentTarget)\n      let imageFilename = button.attr(\"item-image-filename\")\n      let ranTop = ebot.getRandomInt(2, 10) * 50\n      let ranLeft = ebot.getRandomInt(2, 10) * 5\n      let id = `dynamically-added-div-${abc.currentDynamicDivId}`\n      let htmlString = `<div id='${id}' style='position:absolute; top:${ranTop}px; left:${ranLeft}px; width: 50px; height: 50px;'><img src='items/${imageFilename}'></div>`\n      $(\"#wrapper\").append(htmlString)\n      $(`#${id}`).draggable(abc.draggableOptionsToken)\n      abc.currentDynamicDivId++\n    })\n  },\n\n  makeDrawers: () => {\n    let opacity = 0.9\n    ebot.drawerify({\n      fromThe: \"top\",\n      selector: \"#top-drawer\",\n      contents: \"#top-drawer-contents\",\n      opacity: opacity\n    })\n\n    ebot.drawerify({\n      fromThe: \"left\",\n      selector: \"#left-drawer\",\n      contents: \"#left-drawer-contents\",\n      opacity: opacity\n    })\n\n    ebot.drawerify({\n      fromThe: \"bottom\",\n      selector: \"#bottom-drawer\",\n      contents: \"#bottom-drawer-contents\",\n      opacity: opacity\n    })\n\n    ebot.drawerify({\n      fromThe: \"right\",\n      selector: \"#right-drawer\",\n      contents: \"#right-drawer-contents\",\n      opacity: opacity\n    })\n  },\n\n  handlerDrag: () => {\n    $(\"#draggable\").draggable(abc.draggableOptions)\n  },\n\n  handlerAddDiv: () => {\n    $(\"#add-div\").click(e => {\n      abc.createNewWireframeDiv()\n      abc.socket.emit('div added')\n    })\n  },\n\n  createNewWireframeDiv: () => {\n    let ranTop = ebot.getRandomInt(100, 500)\n    let ranLeft = ebot.getRandomInt(100, 500)\n    let randomColor = `rgba(${ebot.getRandomInt(0, 255)}, ${ebot.getRandomInt(0, 255)}, ${ebot.getRandomInt(0, 255)}, 0.8)`\n    let id = `dynamically-added-div-${abc.currentDynamicDivId}`\n    let htmlString = `<div id='${id}' style='position:absolute; top:${ranTop}px; left:${ranLeft}px; background-color: ${randomColor}; width: 100px; height: 100px;'></div>`\n    $(\"#wrapper\").append(htmlString)\n    $(`#${id}`).resizable(abc.resizableOptions).draggable(abc.draggableOptions)\n    abc.currentDynamicDivId++\n  },\n\n  playSound: sound => {\n    let soundUnique = new Howl({\n      urls: [`/sounds/${sound}.wav`]\n    }).play()\n  },\n\n  draggableOptions: {\n    drag: (event, ui) => {\n      let emitObj = {\n        id: ui.helper[0].id,\n        x: $(ui.helper[0]).css(\"left\"),\n        y: $(ui.helper[0]).css(\"top\")\n      }\n\n      abc.socket.emit('element dragged', emitObj)\n    }\n  },\n\n  draggableOptionsToken: {\n    drag: (event, ui) => {\n      let emitObj = {\n        id: ui.helper[0].id,\n        x: $(ui.helper[0]).css(\"left\"),\n        y: $(ui.helper[0]).css(\"top\")\n      }\n\n      abc.socket.emit('element dragged', emitObj)\n    },\n    grid:[50, 50]\n  },\n\n  resizableOptions: {\n    resize: (event, ui) => {\n      let emitObj = {\n        id: ui.element[0].id,\n        height: ui.size.height,\n        width: ui.size.width\n      }\n\n      abc.socket.emit('element resized', emitObj)\n    }\n  },\n\n  getItems: () => {\n    let deferred = $.ajax({\n      type: \"GET\",\n      url: `${abc.apiurl}/items`,\n      success: function(data, status, jqXHR) {},\n      error: function(jqXHR, status) {console.log(\"getItems() Error\")}\n    }).promise()\n\n    return deferred\n  },\n\n  dragDelay: 1,\n  \n  dragCounter: 0,\n\n  socket: {},\n\n  currentDynamicDivId: 1,\n\n  // apiurl: \"http://localhost:8082\",\n  apiurl: \"http://192.241.203.33:8082\",\n\n  userIsPlayer: false,\n\n  userIsDM: false,\n\n  items: []\n\n}\n\n"]}